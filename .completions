#!/bin/bash

for file in /usr/local/etc/bash_completion.d/*; do
    if [[ -r "$file" ]] && [[ -f "$file" ]]; then
        # shellcheck source=/dev/null # https://github.com/koalaman/shellcheck/wiki/SC1090
        source "$file"
    fi
done

# https://stackoverflow.com/a/15009611/1068870
__git_complete g __git_main

# https://stackoverflow.com/a/38415982/1068870
complete -W "\`grep -oE '^[a-zA-Z0-9_.-]+:([^=]|$)' Makefile | sed 's/[^a-zA-Z0-9_.-]*$//'\`" make
